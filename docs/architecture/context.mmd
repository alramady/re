C4Context
  title System Context diagram for Munsiq Platform

  Enterprise_Boundary(b0, "Munsiq Enterprise") {
    Person(pm, "Property Manager", "Manages properties, contracts, and tenants.")
    Person(tenant, "Tenant", "Views contracts, pays rent, requests maintenance.")
    Person(accountant, "Accountant", "Manages financials and generates reports.")
    Person(admin, "System Administrator", "Manages users and system settings.")

    System(munsiq, "Munsiq Platform", "SaaS platform for real estate management in Saudi Arabia.")

    Rel(pm, munsiq, "Manages properties, tenants, contracts")
    Rel(tenant, munsiq, "Pays rent, requests maintenance")
    Rel(accountant, munsiq, "Generates financial reports")
    Rel(admin, munsiq, "Administers the system")
  }

  System_Ext(ejar, "Ejar System", "Official Saudi government rental services portal.")
  System_Ext(sadad, "SADAD Payment System", "National bill payment system in Saudi Arabia.")
  System_Ext(nafath, "Nafath", "National unified authentication service.")
  System_Ext(twilio, "Twilio", "SMS/Notification service.")
  System_Ext(s3, "AWS S3", "Object storage for documents and images.")

  Rel(munsiq, ejar, "Syncs contracts", "HTTPS/API")
  Rel(munsiq, sadad, "Generates invoices & receives payments", "HTTPS/API")
  Rel(munsiq, nafath, "Verifies tenant identity", "HTTPS/API")
  Rel(munsiq, twilio, "Sends SMS notifications", "HTTPS/API")
  Rel(munsiq, s3, "Stores documents", "HTTPS/API")

  UpdateElementStyle(munsiq, $bgColor="#1168BD", $fontColor="white", $borderColor="#0E58A1")
  UpdateElementStyle(pm, $bgColor="#999999", $fontColor="white")
  UpdateElementStyle(tenant, $bgColor="#999999", $fontColor="white")
  UpdateElementStyle(accountant, $bgColor="#999999", $fontColor="white")
  UpdateElementStyle(admin, $bgColor="#999999", $fontColor="white")
